(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{205:function(t,e,r){"use strict";r.r(e);r(14),r(19);var n=r(3),o=(r(66),r(40)),l=r.n(o),c={components:{QrcodeStream:r(83).QrcodeStream},data:function(){return{search:"",itemInstance:"",itemURI:"",result:"",itemId:"",error:"",loading:!1}},methods:{onDecode:function(t){var e=this;this.result=t,this.itemId=t.replace("blockchain:es.deusto.supplychain.Item::","");var r=this.$store.state.settings.api;l.a.get(r+"/Item/"+this.itemId).then((function(t){e.itemInstance=t.data})),this.itemURI=r+"/Item/"+this.itemId},onInit:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t;case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),"NotAllowedError"===r.t0.name?e.error="ERROR: you need to grant camera access permisson":"NotFoundError"===r.t0.name?e.error="ERROR: no camera on this device":"NotSupportedError"===r.t0.name?e.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===r.t0.name?e.error="ERROR: is the camera already in use?":"OverconstrainedError"===r.t0.name?e.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===r.t0.name&&(e.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()}}},d=r(27),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container mx-auto p-4"},[t._m(0),t._v(" "),r("div",[r("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[t._m(1),t._v(" "),r("div",[r("qrcode-stream",{on:{decode:t.onDecode,init:t.onInit}}),t._v(" "),r("p",{staticClass:"error"},[t._v(t._s(t.error))]),t._v(" "),r("p",[t._v(t._s(t.itemId))])],1),t._v(" "),r("label",{staticClass:"block pt-2"},[r("span",{staticClass:"text-gray-700"},[t._v("Blockchain ID del item escaneado")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result,expression:"result"}],staticClass:"form-input mt-1 block w-full",attrs:{placeholder:"Blockchain ID",required:"",disabled:t.loading,readonly:""},domProps:{value:t.result},on:{input:function(e){e.target.composing||(t.result=e.target.value)}}})]),t._v(" "),r("label",{staticClass:"block pt-2"},[r("span",{staticClass:"text-gray-700"},[t._v("Blockchain URI del item escaneado")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.itemURI,expression:"itemURI"}],staticClass:"form-input mt-1 block w-full",attrs:{placeholder:"Blockchain URI",required:"",disabled:t.loading,readonly:""},domProps:{value:t.itemURI},on:{input:function(e){e.target.composing||(t.itemURI=e.target.value)}}})]),t._v(" "),r("nuxt-link",{staticClass:"mt-3 text-black py-2 px-3 rounded",attrs:{to:"/"}},[t._v("Atrás")]),t._v(" "),t.error?r("p",{staticClass:"text-red-600"},[t._v("Ha ocurrido un error. Inténtelo de nuevo más tarde.")]):t._e()],1),t._v(" "),r("h2",{staticClass:"text-lg font-semibold"},[t._v("Enlaces")]),t._v(" "),t._m(2)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex justify-between items-center w-full"},[e("div",[e("h1",{staticClass:"text-2xl font-semibold"},[this._v("Ver traza de assets")]),this._v(" "),e("p",{staticClass:"text-sm text-gray-800"},[this._v("Lea el código QR del producto a trazar.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"block"},[e("span",{staticClass:"text-gray-700"},[this._v("Acerque el código QR a la camara")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"text-gray-600"},[e("a",{staticClass:"cursor-pointer underline",attrs:{href:"http://130.206.138.65:8080",target:"_blank"}},[this._v("Blockchain Explorer")]),e("p")])}],!1,null,null,null);e.default=component.exports}}]);